<!DOCTYPE html>
<html>
<head>
  <title>Purchase Entry</title>
  <link rel="stylesheet" href="css/purchase.css">
</head>
<body>

<nav class="navbar">
  <div class="logo">ðŸŒ¾ MandiLedger ERP</div>
  <div class="nav-links">
    <a href="dashboard.html">Dashboard</a>
    <a href="parties.html">Parties</a>
    <a href="brokers.html">Brokers</a>
    <a href="transports.html">Transport</a>
    <a href="sale.html">Sale</a>
    <a href="ledger.html">Ledger</a>
    <a href="payments.html">Payments</a>
    <a href="vouchers.html" class="active">Vouchers</a>
    <a href="stock-report.html">Stock Report</a>
    <a href="reports.html">Reports</a>
    <a href="#" onclick="logout()">Logout</a>
  </div>
</nav>
<div class="purchase-container">

  <!-- LEFT FORM -->
  <div class="purchase-form">

    <h2>ðŸ“¥ Purchase Entry (Farmer)</h2>

    <!-- FARMER SEARCH -->
    <label>Farmer</label>
    <input id="farmerSearch" placeholder="Search farmer by name">
    <div id="farmerList" class="dropdown"></div>

    <input type="hidden" id="party_id">

    <div class="row">
      <div>
        <label>Mobile</label>
        <input id="farmer_mobile" disabled>
      </div>
      <div>
        <label>Address</label>
        <input id="farmer_address" disabled>
      </div>
    </div>

    <!-- COMMODITY -->
     <label>Commodity</label>
<select id="commodity" onchange="selectCommodity(this.value)">
  <option value="">Select Commodity</option>
</select>

    <!-- TRANSPORT -->
    <div class="row">
      <div>
        <label>Vehicle No</label>
        <input id="vehicle_no" placeholder="UP32 AB 1234">
      </div>
      <div>
        <label>No of Bags</label>
        <input id="bags" type="number" oninput="calculatePurchase()">
      </div>
    </div>

    <!-- WEIGHT -->
    <div class="row">
      <div>
        <label>Quintal</label>
        <input id="quintal" type="number" oninput="calculatePurchase()">
      </div>
      <div>
        <label>Kg</label>
        <input id="kg" type="number" oninput="calculatePurchase()">
      </div>
    </div>

    <!-- RATE & COMMISSION -->
    <div class="row">
      <div>
        <label>Rate (â‚¹ / Kg)</label>
        <input id="rate" type="number" oninput="calculatePurchase()">
      </div>
      <div>
        <label>Mandi Commission (%)</label>
        <input id="commission" type="number" step="0.01" oninput="calculatePurchase()">
      </div>
    </div>

    <button class="btn-save" onclick="savePurchase()">
      ðŸ’¾ Save Purchase Voucher
    </button>

  </div>

  <!-- RIGHT SUMMARY -->
  <div class="purchase-summary">

    <h3>ðŸ“Š Calculation Summary</h3>

    <div class="summary-card">
      <span>Total Weight</span>
      <b id="totalWeight">0 Kg</b>
    </div>

    <div class="summary-card">
      <span>Wajan Dhalta</span>
      <b id="dhalta">0 Kg</b>
    </div>

    <div class="summary-card highlight">
      <span>Final Weight</span>
      <b id="finalWeight">0 Kg</b>
    </div>

    <div class="summary-card">
      <span>Gross Amount</span>
      â‚¹ <b id="grossAmount">0</b>
    </div>

    <div class="summary-card">
      <span>Commission</span>
      â‚¹ <input id="discount" disabled>
    </div>

    <div class="summary-card highlight">
      <span>Final Payable</span>
      â‚¹ <b id="netAmount">0</b>
    </div>

  </div>

</div>

<script src="js/api.js"></script>
<script src="js/purchase.js"></script>
</body>
</html>
