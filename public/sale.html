<!DOCTYPE html>
<html>
<head>
  <title>Sale</title>
  <link rel="stylesheet" href="css/sale.css">
</head>
<body>

<nav class="navbar">
  <div class="logo">ðŸŒ¾ MandiLedger ERP</div>
  <div class="nav-links">
    <a href="dashboard.html">Dashboard</a>
    <a href="parties.html">Parties</a>
    <a href="brokers.html">Brokers</a>
    <a href="transports.html">Transport</a>
    <a href="purchase.html">Purchase</a>
    <a href="ledger.html">Ledger</a>
    <a href="payments.html">Payments</a>
    <a href="vouchers.html" class="active">Vouchers</a>
    <a href="stock-report.html">Stock Report</a>
    <a href="reports.html">Reports</a>
    <a href="#" onclick="logout()">Logout</a>
  </div>
</nav>

<div class="sale-container">

  <!-- LEFT SIDE FORM -->
  <div class="sale-card">

    <h2>ðŸ“¤ Sale Entry (Mill)</h2>

    <label>Mill Name</label>
    <input id="millSearch" placeholder="Search Mill">
    <div id="millList" class="dropdown"></div>

    <div class="info-grid">
      <div>GST No: <span id="millGst">-</span></div>
      <div>Place of Supply: <span id="millState">-</span></div>
    </div>

    <label>Commodity</label>
<select id="commoditySelect" onchange="selectCommodity(this.value)">
  <option value="">Select Commodity</option>
</select>

<div class="info-grid">
  <div>HSN: <span id="hsnDisplay">-</span></div>
  <div>Available: <span id="availableStockKg">0 Kg</span></div>
</div>

    <label>Broker</label>
<select id="brokerSelect" onchange="selectBroker(this.value)">
  <option value="">Select Broker</option>
</select>

<div class="info-grid">
  <div>Referred By: <span id="brokerCompany">-</span></div>
  <div>Primary Mobile: <span id="brokerMobile">-</span></div>
</div>

    <label>Transport Company</label>
<select id="transportSelect" onchange="selectTransport(this.value)">
  <option value="">Select Transport</option>
</select>

<div class="info-grid">
  <div>Driver</div>
  <div>
    <select id="driverSelect" onchange="selectDriver(this.value)">
      <option value="">Select Driver</option>
    </select>
    <button type="button" class="mini-btn" onclick="openAddDriver()">+ Add Driver</button>
  </div>
</div>

<div class="info-grid">
  <div>Driver Mobile:</div>
  <div><span id="driverMobile">-</span></div>
</div>

<label>Vehicle No</label>
<select id="vehicleSelect">
  <option value="">Select Vehicle</option>
</select>

    <div class="row">
      <div>
        <label>Quintal</label>
        <input id="saleQtl" type="number" oninput="calculateSale()">
      </div>
      <div>
        <label>Kg</label>
        <input id="saleKg" type="number" oninput="calculateSale()">
      </div>
    </div>

    <label>Rate (â‚¹/Kg)</label>
    <input id="saleRate" type="number" oninput="calculateSale()">

    <button onclick="saveSale()">ðŸ’¾ Save Sale Voucher</button>

  </div>

  <!-- RIGHT SIDE SUMMARY -->
  <div class="sale-summary">

    <div class="summary-card">
      <label>Available Stock (Kg)</label>
      <h3 id="availableStockKg1">0 Kg</h3>
    </div>

    <div class="summary-card">
      <label>Total Weight (Kg)</label>
      <h3 id="saleFinalWeight">0 Kg</h3>
    </div>

    <div class="summary-card highlight">
      <label>Final Amount (â‚¹)</label>
      <h2 id="saleFinalAmount">0.00</h2>
    </div>

  </div>

</div>

<script src="js/api.js"></script>
<script src="js/sale.js"></script>
</body>
</html>
